# 备份概念
根据备份的方法可以将备份分为：

1. 热备hot backup：在线备份，对正在运行的数据库操作没有任何影响
2. 冷备cold backup：数据库离线备份
3. 温备warm backup：在线备份，但是对当前数据库的操作有所影响，比如加全局读锁以保证备份数据的一致性

按照备份后文件的内容，备份又可以分为：

1. 逻辑备份：备份的文件内容是可读的，一般是文本文件，例如binlog；适用于数据库的升级和迁移等工作，但恢复时间较长。

   1. mysqldump

1. 裸文件备份：复制数据库的物理文件，恢复快。

按照备份数据库的内容来分，备份可以分为：

1. 完全备份：完整的备份
2. 增量备份：在完整的备份基础上对更改的数据进行备份
3. 日志备份：主要指binlog的备份

# 复制

## 复制的工作原理

1. slave把master上的binlog复制到自己的中继日志relay log中
2. slave读取relay log中的日志，把更改应用到自己的数据库上，以达到数据库的最终一致性

其实就是一个完全备份 + 二进制日志备份。

如果master节点压力很大，可能导致主从延迟。


## 快照 + 复制的备份架构

复制可以用来做：

1. 数据多中心
2. 从库
3. 数据库备份
4. 高可用和故障转移

如果误操作DROP TABLE，从库也执行了，如何从服务器进行恢复？

一个比较好的方法是通过对服务器上的数据库所在分区做快照，然后再根据binlog做增量恢复。
