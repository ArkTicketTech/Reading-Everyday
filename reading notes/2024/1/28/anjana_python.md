## 《Selenium自动化测试完全指南：基于Python》

###  第二部分 自动化测试实战：组织及模式优化

测试类的名称以Test开头，并且不能带有__init__方法，例如“class TestBaidu:”。

代码开始导入了pytest对象，并在末尾加入了判断逻辑语句```if__name__== "__main__"```。该语句主要判断代码是从该.py文件直接运行，还是被其他文件导入或调用后才运行（```__name__```是Python内置变量，存放了当前的模块名称。当模块直接运行时，模块名为```__main__```。）如果从该.py文件直接运行（例如在调试时，就直接从当前文件运行），就会执行pytest测试，执行的文件名称为test_epubit_common.py。

关键字驱动框架是在数据驱动框架的基础上改进的一种框架模型。它将测试逻辑按照关键字进行分解，形成数据文件与关键字对应封装的业务逻辑。关键字主要包括3类，分别是被测试对象（object）、操作（action）和值（value），实现界面元素名与测试内部对象名分离，测试描述与具体实现细节分离。

在Web应用的测试中，前置和后置函数通常用于执行以下操作。

•  实例化/注销WebDriver。

•  设置页面为about:blank，最大化浏览器窗口或关闭浏览器窗口等。

•  导入/清理用户权限。

•  通过SQL初始化/清理对应页面的测试数据。



100%的功能覆盖率是不现实的，遵循测试金字塔原则，才能取得最佳的成本收益比。



在大粒度的测试中，因为各个测试函数绝对独立，一个测试函数直接对应一个页面，测试函数通常会调用较多的非测试子函数，所以通常无须在类中添加前后置操作

大粒度的测试特别适用于应用程序研发流程中的快速回归测试。此时的测试并不要求高比例覆盖每个页面的每个功能点，而是要求快速验证应用程序中的重要业务点是否正确。这种粒度的测试非常适合组织快速的验证。总体而言，大粒度的测试适合对时间有要求的测试，例如在10分钟内完成所有验证，此时的测试要求不是广而全，而是少而精。

通常在项目中最常用的是中粒度和大粒度的测试，不推荐使用小粒度的测试。但需要结合项目的实际情况，选择最适合的测试粒度。