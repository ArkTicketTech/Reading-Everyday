并发程序要解决的核心矛盾：CPU、内存和 I/O设备三者速度差异巨大。

木桶理论：一只水桶能装多少水取决于它最短的那块木板。

并发问题背后有三块大的知识体系：

1. 计算机体系结构，CPU 增加缓存，平衡与内存的速度差异；
2. 操作系统，增加进程、线程，分时复用 CPU，平衡 CPU 与 I/O设备之间的速度差异；
3. 编译原理，编译程序优化指令执行顺序，使缓存得到更合理的利用。

诊断并发问题的三个出发点：

1. 缓存导致的**可见性**问题
2. 线程切换带来的**原子性**问题
3. 编译优化带来的**有序性**问题
