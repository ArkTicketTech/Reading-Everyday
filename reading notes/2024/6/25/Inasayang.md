# Learning OpenTelemetry Setting Up and Operating a Modern Observability System pp. 10-24

## ch2.Why Use OpenTelemetry?

### Production Monitoring: The Status Quo

目前生产监控的现状是使用几十种工具以不同的格式和频率收集各种信号，然后将它们发送进行存储和分析。较小的组织可能能够将所有数据放入单一的数据库或数据湖中；较大的组织可能会发现自己有数百个存储目的地，并拥有各种访问控制。随着组织复杂性的增加，分析和应对事件变得更加困难。

### The Importance of Telemetry

OpenTelemetry 实践中的统一遥测的三个特征：硬上下文和软上下文(Hard and Soft Context)、遥测分层(telemetry layering)和语义遥测(semantic telemetry)。

#### Hard and Soft Context

硬上下文 是分布式应用程序中每个请求的唯一标识符，它可以在同一请求的其他服务之间传播。一个基本的模型是，从一个 Web 客户端通过负载均衡器进入一个 API 服务器，该服务器调用另一个服务中的一个函数读取数据库，并向客户端返回一些计算值。这也可以称为请求的逻辑上下文（因为它映射到系统的单一预期终端用户交互）。

软上下文 是每个遥测工具附加到处理同一请求的各种服务和基础设施的测量数据上的各种元数据。例如，客户标识符、处理请求的负载均衡器的主机名或一条遥测数据的时间戳。

硬上下文和软上下文之间的关键区别在于，硬上下文直接且明确地链接具有因果关系的测量数据，而软上下文可能会这样做，但不一定能保证。

#### telemetry layering

遥测信号通常是可转换的。例如，内容交付网络（CDN）如Cloudflare为您提供了包含网站性能指标的仪表板，显示按HTTP状态代码分类的请求速率。这些指标的底层数据是日志语句，解析为时间序列指标。但是转换会产生成本，导致系统在低效地使用遥测信号。

一个更好的解决方案是分层遥测信号并以互补的方式使用它们。

在特定抽象层次上测量应用和系统行为，通过上下文链接这些信号，并分层遥测，以从这些重叠的信号中获取正确的数据。并且可以以适当且高效的方式记录和存储这些数据。

#### semantic telemetry

监控是一种被动行为。可观察性是一种主动实践。

不同的信号通常会因不同目的被多次分析。例如，HTTP访问日志是评估给定服务器性能的良好数据来源，同时也是安全团队监视未授权访问或生产系统使用的关键信息。这意味着这些数据必须通过多种工具、为多种目的多次处理。

便携，意味着可以将它与任何可观察性前端一起使用；语义化，意味着它是自描述的。
