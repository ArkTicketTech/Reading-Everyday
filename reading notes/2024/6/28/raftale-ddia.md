

继续复习ddia

# chap7
事务：简化应用编程模型。


ACID：
1. Atomicity: 原子性
2. Consistency: 一致性，用户特定的约束
3. Isolation: 隔离性，并发问题
4. Durability: 持久性


隔离性指的是事务隔离，针对于并发问题。
事务强隔离就是事务串性化，彻底避免并发问题。弱隔离就是假装没有并发发生，通过一定的设计来防止一部分的并发问题。
弱隔离级别能有更好的性能，但需要额外的理解。

隔离级别从弱到强：
1. 读未提交：解决脏写问题
   - 脏写：一个事务修改了另一个事务未提交的数据
   - 解决方法：写锁
2. 读已提交：解决了脏读问题
   - 脏读：一个事务读取到了另一个事务未提交的数据
   - 解决方法：版本控制，写操作未提交的数据不是被其他事务读取。
3. 可重复读
   - 不可重复读：单个事务中连续两次读取结果不一致
   - 解决方法：多版本并发控制
4. 可串性化
   - 幻读：一个事务的写入改变了另一个事务的搜索查询的结果。
   - 解决方法：应用层物化冲突；可串性化。
   - 开启可串性化：
     - 真正的串性执行
     - 两阶段锁定2PL：同一对象的读写会相互阻塞（读写锁） + 索引谓词锁（范围锁） 
     - 可串性化快照隔离SSI：可以理解为乐观的2PL，利用快照来实现



