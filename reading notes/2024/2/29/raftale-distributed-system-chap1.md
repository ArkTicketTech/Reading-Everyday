# 什么是分布式系统


分布式系统是一个其组件在不同的、联网的计算机上，组件之间通过传递消息进行通信和协调，共同完成一个任务的系统。

分布式系统的特点：

1. 多进程
2. 不共享操作系统，通过网络通信传递消息来写协作
3. 不共享时钟

# 为什么需要分布式系统

1. 高性能：单机存在物理限制
2. 可扩展性：水平扩展
3. 高可用性：节点冗余
4. 必要性：跨地域转账等

# 分布式系统的示例

1. 搜索引擎
    1. 各种分布式基础设施如GFS、Bigtable、MapReduce、Spanner

1. 加密货币

# 分布式系统的挑战

一些谬误：

1. 网络是可靠的
2. 延迟为零
3. 带宽是无限的
4. 网络是安全的
5. 拓扑结构不会改变
6. 单一管理员
7. 传输成本为零
8. 网络是同构的

## 网络延迟问题

网络不是可靠的，分布式系统中的消息传递可能出现以下问题：

1. 消息丢失了
2. 认为请求丢失了，但实际上消息只是延迟到达
3. 网络可能会重传消息，导致收到重复的消息
4. 消息延迟可能会让我们认为某个服务已经因故障而下线，但实际上没有
5. 消息可能以不同的顺序到达，或者不同的节点上消息到达的顺序不同

网络是建立在硬件上的，硬件也会在某些时候出现故障。

## 部分失效问题

分布式系统可能出现一部分节点正常工作，一部分节点运行异常，系统可能会以某种不可预知的方式宕机。

## 时钟问题

每个机器都有自己的时钟，消息传递很难确定顺序。

解决方法：

1. google构建的TrueTime API
2. 逻辑时钟，第六章讲到

# 每个程序员都应该知道的数字

2020的数据：

